{% extends "base.html" %}
{% load i18n static %}

{% block extrahead %}
    <link type="text/css" rel="stylesheet"
         href="https://unpkg.com/bootstrap/dist/css/bootstrap.min.css" />
    <link type="text/css" rel="stylesheet"
         href="https://unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.css" />
    <link type="text/css" rel="stylesheet" href="{% static "booth/style.css" %}" />
{% endblock %}

{% block content %}
    <div id="app-visualizer">
        <!-- Navbar -->
        <b-navbar type="dark" variant="secondary">
            <b-navbar-brand tag="h1">Decide</b-navbar-brand>
        </b-navbar>
      
        <div class="voting mr-5">
            <h1>[[ voting.titulo ]]</h1>
            <h5>Censo: [[voting.n_personas_censo]]</h5>
            <button class="btn btn-outline-dark" style="float:right;" data-html2canvas-ignore="true" onclick="exportarExcel('results')">Exportar a Excel</button>            
            <input type="button" class="btn btn-outline-dark" style="float:right;" data-html2canvas-ignore="true" value="Exportar a PDF" onclick="exportarPDF();">
            <h2 v-if="!voting.fecha_inicio">Votación no comenzada</h2>
            <h2 v-else-if="!voting.fecha_fin">Votación en curso</h2>
            <div v-else>
                <br>
                <input type="button" class="btn btn-outline-dark" value="Mostrar/ocultar resultados de la votación" data-html2canvas-ignore="true" onclick="mostrarContenido('results');">
                <br><br>

                <div id="results">

                    <h2 class="heading">Resultados:</h2>
                        <br>
                        
                        <h3 class="heading">[[voting.preguntas[0].titulo]]</h3>
                        <table class="table table-bordered table-condensed table-striped table-hover">
                            <thead>
                                <tr>
                                    <th>Candidato</th>
                                    <th>Votos totales</th>
                                    <th>Votos masculinos</th>
                                    <th>Votos femeninos</th>
                                    <th>Votos de alumnos de primero</th>
                                    <th>Votos de alumnos de segundo</th>
                                    <th>Votos de alumnos de tercero</th>
                                    <th>Votos de alumnos de cuarto</th>
                                    <th>Votos de alumnos de master</th>
                                    <th>Media de edad de sus votantes</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="opt in voting.preguntas[0].opts" :key="opt.numero">
                                    <td>[[opt.nombre]]</td>
                                    <td>[[opt.voto_F + opt.voto_M]]</td>
                                    <td>[[opt.voto_M]]</td>
                                    <td>[[opt.voto_F]]</td>
                                    <td>[[opt.voto_curso.primero]]</td>
                                    <td>[[opt.voto_curso.segundo]]</td>
                                    <td>[[opt.voto_curso.tercero]]</td>
                                    <td>[[opt.voto_curso.cuarto]]</td>
                                    <td>[[opt.voto_curso.master]]</td>
                                    <td>[[opt.media_Edad]]</td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <div v-for="preg in [1,2,3,4,5]">
                            <br>
                            <h3 class="heading">[[voting.preguntas[preg].titulo]]</h3>
                            <table class="table table-bordered table-condensed table-striped table-hover">
                                <thead>
                                    <tr>
                                        <th>Candidato</th>
                                        <th>Votos totales</th>
                                        <th>Votos masculinos</th>
                                        <th>Votos femeninos</th>
                                        <th>Media de edad de sus votantes</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr v-for="opt in voting.preguntas[preg].opts" :key="opt.numero">
                                        <td>[[opt.nombre]]</td>
                                        <td>[[opt.voto_F + opt.voto_M]]</td>
                                        <td>[[opt.voto_M]]</td>
                                        <td>[[opt.voto_F]]</td>
                                        <td>[[opt.media_Edad]]</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div v-if="voting.tipo=='VG'">
                            <br>
                            <h3 class="heading">[[voting.preguntas[6].titulo]]</h3>
                            <table class="table table-bordered table-condensed table-striped table-hover">
                                <thead>
                                    <tr>
                                        <th>Candidato</th>
                                        <th>Votos totales</th>
                                        <th>Votos masculinos</th>
                                        <th>Votos femeninos</th>
                                        <th>Votos de alumnos de primero</th>
                                        <th>Votos de alumnos de segundo</th>
                                        <th>Votos de alumnos de tercero</th>
                                        <th>Votos de alumnos de cuarto</th>
                                        <th>Votos de alumnos de master</th>
                                        <th>Media de edad de sus votantes</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr v-for="opt in voting.preguntas[6].opts" :key="opt.numero">
                                        <td>[[opt.nombre]]</td>
                                        <td>[[opt.voto_F + opt.voto_M]]</td>
                                        <td>[[opt.voto_M]]</td>
                                        <td>[[opt.voto_F]]</td>
                                        <td>[[opt.voto_curso.primero]]</td>
                                        <td>[[opt.voto_curso.segundo]]</td>
                                        <td>[[opt.voto_curso.tercero]]</td>
                                        <td>[[opt.voto_curso.cuarto]]</td>
                                        <td>[[opt.voto_curso.master]]</td>
                                        <td>[[opt.media_Edad]]</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                </div>
                
                <div id="statistics"><br>
                    <h2 class="heading">Estadísticas:</h2><br>
                    
                        <table class="table table-bordered table-condensed table-striped table-hover">
                            <thead>
                                <tr>
                                    <th></th>
                                    <th>Totales</th>
                                    <th>Primero</th>
                                    <th>Segundo</th>
                                    <th>Tercero</th>
                                    <th>Cuarto</th>
                                    <th>Master</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <th>Porcentaje de abstención</th>
                                    <td>[[(100 - (voting.n_votantes / voting.n_personas_censo * 100)).toFixed(2)]] %</td>
                                    <td v-for="preg in [1,2,3,4,5]">
                                        [[(100 - (voting.preguntas[preg].n_votantes / voting.preguntas[preg].n_personas_censo * 100)).toFixed(2)]] %
                                    </td>
                                </tr>
                                <tr>
                                    <th>Porcentaje de abstención masculina</th>
                                    <td>[[(100 - (voting.n_votantes_m / voting.n_hombres_censo * 100)).toFixed(2)]] %</td>
                                    <td v-for="preg in [1,2,3,4,5]">
                                        [[(100 - (voting.preguntas[preg].n_votantes_m / voting.preguntas[preg].n_hombres_censo * 100)).toFixed(2)]] %
                                    </td>
                                </tr>
                                <tr>
                                    <th>Porcentaje de abstención femenina</th>
                                    <td>[[(100 - (voting.n_votantes_f / voting.n_mujeres_censo * 100)).toFixed(2)]] %</td>
                                    <td v-for="preg in [1,2,3,4,5]">
                                        [[(100 - (voting.preguntas[preg].n_votantes_f / voting.preguntas[preg].n_mujeres_censo * 100)).toFixed(2)]] %
                                    </td>
                                </tr>
                                <tr>
                                    <th>Media de edad</th>
                                    <td>[[voting.media_edad_votantes]]</td>
                                    <td v-for="preg in [1,2,3,4,5]">
                                        [[voting.preguntas[preg].media_edad_votantes]]
                                    </td>
                                </tr>

                            </tbody>
                        </table><br>

                    <h3 class="heading">[[voting.preguntas[0].titulo]]</h3>
                        <table class="table table-bordered table-condensed table-striped table-hover">
                            <thead>
                                <tr>
                                    <th>Candidato</th>
                                    <th>Porcentaje de votos respecto al censo</th>
                                    <th>Porcentaje de votantes masculinos</th>
                                    <th>Porcentaje de votantes femeninos</th>
                                    <th>Porcentaje de votantes primer curso</th>
                                    <th>Porcentaje de votantes segundo curso</th>
                                    <th>Porcentaje de votantes tercer curso</th>
                                    <th>Porcentaje de votantes cuarto curso</th>
                                    <th>Porcentaje de votantes master</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="opt in voting.preguntas[0].opts" :key="opt.numero">
                                    <td>[[opt.nombre]]</td>
                                    <td>[[((opt.voto_F + opt.voto_M) / voting.n_personas_censo * 100).toFixed(2)]] %</td>
                                    <td>[[(opt.voto_M/(opt.voto_F + opt.voto_M) * 100).toFixed(2)]] %</td>
                                    <td>[[(opt.voto_F/(opt.voto_F + opt.voto_M) * 100).toFixed(2)]] %</td>
                                    <td>[[(opt.voto_curso.primero/(opt.voto_F + opt.voto_M) * 100).toFixed(2)]] %</td>
                                    <td>[[(opt.voto_curso.segundo/(opt.voto_F + opt.voto_M) * 100).toFixed(2)]] %</td>
                                    <td>[[(opt.voto_curso.tercero/(opt.voto_F + opt.voto_M) * 100).toFixed(2)]] %</td>
                                    <td>[[(opt.voto_curso.cuarto/(opt.voto_F + opt.voto_M) * 100).toFixed(2)]] %</td>
                                    <td>[[(opt.voto_curso.master/(opt.voto_F + opt.voto_M) * 100).toFixed(2)]] %</td>
                                </tr>
                            </tbody>
                        </table>
                    
                        <div v-for="preg in [1,2,3,4,5]">
                            <br>
                            <h3 class="heading">[[voting.preguntas[preg].titulo]]</h3>
                            <table class="table table-bordered table-condensed table-striped table-hover">
                                <thead>
                                    <tr>
                                        <th>Candidato</th>
                                        <th>Porcentaje de votos respecto al censo del curso</th>
                                        <th>Porcentaje de votantes masculinos</th>
                                        <th>Porcentaje de votantes femeninos</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr v-for="opt in voting.preguntas[preg].opts" :key="opt.numero">
                                        <td>[[opt.nombre]]</td>
                                        <td>[[((opt.voto_F + opt.voto_M) / voting.preguntas[preg].n_personas_censo * 100).toFixed(2)]] %</td>
                                        <td>[[(opt.voto_M/(opt.voto_F + opt.voto_M) * 100).toFixed(2)]] %</td>
                                        <td>[[(opt.voto_F/(opt.voto_F + opt.voto_M) * 100).toFixed(2)]] %</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div v-if="voting.tipo=='VG'">
                            <br>
                            <h3 class="heading">[[voting.preguntas[6].titulo]]</h3>
                            <table class="table table-bordered table-condensed table-striped table-hover">
                                <thead>
                                    <tr>
                                        <th>Candidato</th>
                                        <th>Porcentaje de votos respecto al censo</th>
                                        <th>Porcentaje de votantes masculinos</th>
                                        <th>Porcentaje de votantes femeninos</th>
                                        <th>Porcentaje de votantes primer curso</th>
                                        <th>Porcentaje de votantes segundo curso</th>
                                        <th>Porcentaje de votantes tercer curso</th>
                                        <th>Porcentaje de votantes cuarto curso</th>
                                        <th>Porcentaje de votantes master</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr v-for="opt in voting.preguntas[6].opts" :key="opt.numero">
                                        <td>[[opt.nombre]]</td>
                                        <td>[[((opt.voto_F + opt.voto_M) / voting.n_personas_censo * 100).toFixed(2)]] %</td>
                                        <td>[[(opt.voto_M/(opt.voto_F + opt.voto_M) * 100).toFixed(2)]] %</td>
                                        <td>[[(opt.voto_F/(opt.voto_F + opt.voto_M) * 100).toFixed(2)]] %</td>
                                        <td>[[(opt.voto_curso.primero/(opt.voto_F + opt.voto_M) * 100).toFixed(2)]] %</td>
                                        <td>[[(opt.voto_curso.segundo/(opt.voto_F + opt.voto_M) * 100).toFixed(2)]] %</td>
                                        <td>[[(opt.voto_curso.tercero/(opt.voto_F + opt.voto_M) * 100).toFixed(2)]] %</td>
                                        <td>[[(opt.voto_curso.cuarto/(opt.voto_F + opt.voto_M) * 100).toFixed(2)]] %</td>
                                        <td>[[(opt.voto_curso.master/(opt.voto_F + opt.voto_M) * 100).toFixed(2)]] %</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                </div>

                <div id="graphics">
                    <div id="votacionGeneral" v-if="voting.tipo='VG'">
                        <h2>Votación General</h2>
                        <input type="button" class="btn btn-outline-dark" value="Mostrar gráficas votación general" data-html2canvas-ignore="true" onclick="mostrarContenido('allGraphics');">
                        <br><br>
                        <div id="allGraphics" class="col-md-6">
                            <input type="button" class="btn btn-outline-dark" value="Votos Delegado de Centro" data-html2canvas-ignore="true" onclick="mostrarContenido('delegadoCentro');">
                            <br><br>
                            <div id="delegadoCentro">
                                <h6 style="text-align: center;">Votos de todos los candidatos</h6>
                                <canvas id="myChart" width="75" height="35"></canvas>
                                <h6 style="text-align: center;">Votos por sexo de cada candidato</h6>
                                <canvas id="myChart2" width="107" height="27"></canvas>
                                <canvas id="myChart3" width="107" height="27"></canvas>
                                <canvas id="myChart4" width="107" height="27"></canvas>
                                <canvas id="myChart5" width="107" height="27"></canvas>
                                <canvas id="myChart6" width="107" height="27"></canvas>
                                <canvas id="myChart7" width="107" height="27"></canvas>
                                <canvas id="myChart8" width="107" height="27"></canvas>
                                <canvas id="myChart9" width="107" height="27"></canvas>
                                <br>
                                <h6 style="text-align: center;">Media de edad de los votantes</h6>
                                <canvas id="myChart10" width="75" height="35"></canvas>
                                <h6 style="text-align: center;">Votos por curso de cada candidato</h6>
                                <canvas id="myChart11" width="107" height="27"></canvas>
                                <canvas id="myChart12" width="107" height="27"></canvas>
                                <canvas id="myChart13" width="107" height="27"></canvas>
                                <canvas id="myChart14" width="107" height="27"></canvas>
                                <canvas id="myChart15" width="107" height="27"></canvas>
                                <canvas id="myChart16" width="107" height="27"></canvas>
                                <canvas id="myChart17" width="107" height="27"></canvas>
                                <canvas id="myChart18" width="107" height="27"></canvas>
                            </div>

                            <input type="button" class="btn btn-outline-dark" value="Votos Primero" data-html2canvas-ignore="true" onclick="mostrarContenido('primero');">
                            <br><br>
                            <div id="primero">
                                
                            </div>

                            <input type="button" class="btn btn-outline-dark" value="Votos Segundo" data-html2canvas-ignore="true" onclick="mostrarContenido('segundo');">
                            <br><br>
                            <div id="segundo">
                                
                            </div>

                            <input type="button" class="btn btn-outline-dark" value="Votos Tercero" data-html2canvas-ignore="true" onclick="mostrarContenido('tercero');">
                            <br><br>
                            <div id="tercero">
                                
                            </div>

                            <input type="button" class="btn btn-outline-dark" value="Votos Cuarto" data-html2canvas-ignore="true" onclick="mostrarContenido('cuarto');">
                            <br><br>
                            <div id="cuarto">
                                
                            </div>

                            <input type="button" class="btn btn-outline-dark" value="Votos Master" data-html2canvas-ignore="true" onclick="mostrarContenido('master');">
                            <br><br>
                            <div id="master">
                                
                            </div>

                            <input type="button" class="btn btn-outline-dark" value="Votos Delegado de Alumnos" data-html2canvas-ignore="true" onclick="mostrarContenido('delegadoAlumnos');">
                            <br><br>
                            <div id="delegadoAlumnos">
                                
                            </div>
                        </div> 
                    </div>

                    <div id="votacionPrimaria">
                        <h2>Votación Primaria</h2>
                        <input type="button" class="btn btn-outline-dark" value="Mostrar gráficas votación primaria" onclick="mostrarContenido('allGraphicsPrimaria');">
                        <br><br>
                        <div id="allGraphicsPrimaria" class="col-md-6">
                            <input type="button" class="btn btn-outline-dark" value="Votos Delegado de Centro" onclick="mostrarContenido('delegadoCentroPrimaria');">
                            <br><br>
                            <div id="delegadoCentroPrimaria">
                                <h6 style="text-align: center;">Votos de todos los candidatos</h6>
                                <canvas id="myChartPrim1" width="75" height="35"></canvas>
                                <h6 style="text-align: center;">Votos por sexo de cada candidato</h6>
                                <canvas id="myChartPrim2" width="107" height="27"></canvas>
                                <canvas id="myChartPrim3" width="107" height="27"></canvas>
                                <canvas id="myChartPrim4" width="107" height="27"></canvas>
                                <canvas id="myChartPrim5" width="107" height="27"></canvas>
                                <br><br>
                                <h6 style="text-align: center;">Media de edad de los votantes</h6>
                                <canvas id="myChartPrim6" width="75" height="35"></canvas>
                                <br><br>
                                <h6 style="text-align: center;">Votos por curso de cada candidato</h6>
                                <canvas id="myChartPrim7" width="107" height="27"></canvas>
                                <canvas id="myChartPrim8" width="107" height="27"></canvas>
                                <canvas id="myChartPrim9" width="107" height="27"></canvas>
                                <canvas id="myChartPrim10" width="107" height="27"></canvas>
                            </div>

                            <input type="button" class="btn btn-outline-dark" value="Votos Primero" onclick="mostrarContenido('primeroPrim');">
                            <br><br>
                            <div id="primeroPrim">
                                
                            </div>

                            <input type="button" class="btn btn-outline-dark" value="Votos Segundo" onclick="mostrarContenido('segundoPrim');">
                            <br><br>
                            <div id="segundoPrim">
                                
                            </div>

                            <input type="button" class="btn btn-outline-dark" value="Votos Tercero" onclick="mostrarContenido('terceroPrim');">
                            <br><br>
                            <div id="terceroPrim">
                                
                            </div>

                            <input type="button" class="btn btn-outline-dark" value="Votos Cuarto" onclick="mostrarContenido('cuartoPrim');">
                            <br><br>
                            <div id="cuartoPrim">
                                
                            </div>

                            <input type="button" class="btn btn-outline-dark" value="Votos Master" onclick="mostrarContenido('masterPrim');">
                            <br><br>
                            <div id="masterPrim">
                                
                            </div>

                            <input type="button" class="btn btn-outline-dark" value="Votos Delegado de Alumnos" onclick="mostrarContenido('delegadoAlumnosPrim');">
                            <br><br>
                            <div id="delegadoAlumnosPrim">
                                
                            </div>
                        </div>
                    </div>

                </div>
            </div>

        </div>
    </div>
{% endblock %}

{% block extrabody %}
    <!-- Vuejs -->
    <script src="https://unpkg.com/vue"></script>
    <script src="https://unpkg.com/babel-polyfill@latest/dist/polyfill.min.js"></script>
    <script src="https://unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://raw.githack.com/eKoopmans/html2pdf/master/dist/html2pdf.bundle.js"></script>

    <script>
        var voting = {{voting|safe}};
        var app = new Vue({
            delimiters: ['[[', ']]'],
            el: '#app-visualizer',
            data: {
                voting: voting
            }
        })
    </script>

    <script>

        function mostrarContenido(id) {
            var graficas = document.getElementById(id);
            if (graficas.style.display === "none") {
               graficas.style.display = "block";
            } else {
                graficas.style.display = "none";
            }
        }

        function graficoBarras(id, etiquetas, datos, etY) {
            var ctx= document.getElementById(id).getContext("2d");
            var myChart= new Chart(ctx,{
                type:'bar',
                data: {
                    labels: etiquetas,
                    datasets: [{
                        label: 'Votos',
                            data: datos, 
                            backgroundColor:  [                           
                                'rgba(255, 99, 132, 0.2)',
                                'rgba(54, 162, 235, 0.2)',
                                'rgba(255, 206, 86, 0.2)',
                                'rgba(75, 192, 192, 0.2)',
                                ],
                            borderColor:  [                           
                                'rgba(255, 99, 132, 1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 206, 86, 1)',
                                'rgba(75, 192, 192, 1)',
                                ],
                            borderWidth: 1
                    }]
                    },
                options:{
                    responsive: true,
                    legend :{
                        display: false
                    },
                    scales:{
                        yAxes:[{
                            scaleLabel: {
                                display: true,
                                labelString: etY
                            },
                            ticks:{
                                beginAtZero:true
                            },
                            stacked: false
                        }]
                    }
                }
            });
        }

        graficoBarras("myChart", ['Cand.1','Cand.2','Cand.3','Cand.4','Cand.5','Cand.6','Cand.7','Cand.8','Cand.9','Cand.10'], [10,7,13,5,18,1,9,3,11,13], "Votos");
        graficoBarras("myChart10", ['Cand.1','Cand.2','Cand.3','Cand.4','Cand.5','Cand.6','Cand.7','Cand.8','Cand.9','Cand.10'], [10,7,13,5,18,1,9,3,11,13], "Edad");
        graficoBarras("myChartPrim1", ['Cand.1','Cand.2','Cand.3','Cand.4'], [10,7,13,5], "Votos");
        graficoBarras("myChartPrim6", ['Cand.1','Cand.2','Cand.3','Cand.4'], [9,3,11,13], "Edad");

        function exportarPDF(){       
            function mostrarResultados(id) {
                var graficas = document.getElementById(id);
                if (graficas.style.display === "none") {
                    graficas.style.display = "block";
                }
            }

            mostrarResultados("results")   
            mostrarResultados("allGraphics") 
            mostrarResultados("delegadoCentro") 
            mostrarResultados("primero") 
            mostrarResultados("tercero") 
            mostrarResultados("cuarto") 
            mostrarResultados("master")
            mostrarResultados("delegadoAlumnos")

            var elementHTML= document.getElementById('app-visualizer');

            var opt = {
                filename:     'resultados.pdf',
                image:        { type: 'png', quality: 0.98 },
                html2canvas:  {dpi: 300, letterRendering: true, useCORS: true},
                jsPDF:        { unit: 'in', format: 'letter', orientation: 'landscape' }
                };

            html2pdf().from(elementHTML).set(opt).save();

        }

    </script>

    <script>

        function exportarExcel(tableID, filename = ''){
            var downloadLink;
            var dataType = 'data:application/vnd.ms-excel;charset=UTF-8';
            var tableSelect = document.getElementById(tableID);
            var tableHTML = tableSelect.outerHTML.replace(/ /g, '%20');

            while (tableHTML.indexOf('á') != -1) tableHTML = tableHTML.replace('á', '&aacute;');
            while (tableHTML.indexOf('Á') != -1) tableHTML = tableHTML.replace('Á', '&Aacute;');
            while (tableHTML.indexOf('é') != -1) tableHTML = tableHTML.replace('é', '&eacute;');
            while (tableHTML.indexOf('É') != -1) tableHTML = tableHTML.replace('É', '&Eacute;');
            while (tableHTML.indexOf('í') != -1) tableHTML = tableHTML.replace('í', '&iacute;');
            while (tableHTML.indexOf('Í') != -1) tableHTML = tableHTML.replace('Í', '&Iacute;');
            while (tableHTML.indexOf('ó') != -1) tableHTML = tableHTML.replace('ó', '&oacute;');
            while (tableHTML.indexOf('Ó') != -1) tableHTML = tableHTML.replace('Ó', '&Oacute;');
            while (tableHTML.indexOf('ú') != -1) tableHTML = tableHTML.replace('ú', '&uacute;');
            while (tableHTML.indexOf('Ú') != -1) tableHTML = tableHTML.replace('Ú', '&Uacute;');
            while (tableHTML.indexOf('ñ') != -1) tableHTML = tableHTML.replace('ñ', '&ntilde;');
            while (tableHTML.indexOf('Ñ') != -1) tableHTML = tableHTML.replace('Ñ', '&Ntilde;');
            while (tableHTML.indexOf('º') != -1) tableHTML = tableHTML.replace('º', '&ordm;');
            
            filename = filename?filename+'.xls':'resultados.xls';
            downloadLink = document.createElement("a");
            document.body.appendChild(downloadLink);
            
            if(navigator.msSaveOrOpenBlob){
                var blob = new Blob(['ufeff', tableHTML], {
                    type: dataType
                });
                navigator.msSaveOrOpenBlob( blob, filename);
            }else{
                downloadLink.href = 'data:' + dataType + ', ' + tableHTML;
                downloadLink.download = filename;
                downloadLink.click();
            }
        }

    </script>

    <script>

        var ctx= document.getElementById("myChart2").getContext("2d");
        var myChart= new Chart(ctx,{
            type:'pie',
            data: {
                labels: ['Hombres','Mujeres'],
                datasets: [{
                        label: 'Votos',
                        data: [4,9], 
                        backgroundColor: [
                            'rgba(54, 162, 235, 0.2)',
                            'rgba(255, 99, 132, 0.2)'
                        ],
                        borderColor: [
                            'rgba(54, 162, 235, 1)',
                            'rgba(255, 99, 132, 1)'
                        ],
                        borderWidth: 1
                        }]
                },
            options:{
                responsive: true,
                title :{
                    display: true,
                    text: "Candidato 3"
                },
                legend :{
                    display: false
                },
                scales:{
                    yAxes:[{
                        ticks:{
                            beginAtZero:true
                        },
                        display: false,
                        stacked: false
                    }],
                    xAxes:[{
                        display: false
                    }]
                }
            }
        });


        var ctx= document.getElementById("myChart3").getContext("2d");
        var myChart= new Chart(ctx,{
            type:'pie',
            data: {
                labels: ['Hombres','Mujeres'],
                datasets: [{
                        label: 'Votos',
                        data: [3,2], 
                        backgroundColor: [
                            'rgba(255, 206, 86, 0.2)',
                            'rgba(153, 102, 255, 0.2)'
                        ],
                        borderColor: [
                            'rgba(255, 206, 86, 1)',
                            'rgba(153, 102, 255, 1)'
                        ],
                        borderWidth: 1
                        }]
                },
            options:{
                responsive: true,
                title :{
                    display: true,
                    text: "Candidato 4"
                },
                legend :{
                    display: false
                },
                scales:{
                    yAxes:[{
                        ticks:{
                            beginAtZero:true
                        },
                        display: false,
                        stacked: false
                    }],
                    xAxes:[{
                        display: false
                    }]
                }
            }
        });

        var ctx= document.getElementById("myChart4").getContext("2d");
        var myChart= new Chart(ctx,{
            type:'pie',
            data: {
                labels: ['Hombres','Mujeres'],
                datasets: [{
                        label: 'Votos',
                        data: [9,9], 
                        backgroundColor: [
                            'rgba(32, 247, 176, 0.2)',
                            'rgba(237, 124, 19, 0.2)'
                        ],
                        borderColor: [
                            'rgba(32, 247, 176, 1)',
                            'rgba(237, 124, 19, 1)'
                        ],
                        borderWidth: 1
                        }]
                },
            options:{
                responsive: true,
                title :{
                    display: true,
                    text: "Candidato 5"
                },
                legend :{
                    display: false
                },
                scales:{
                    yAxes:[{
                        ticks:{
                            beginAtZero:true
                        },
                        display: false,
                        stacked: false
                    }],
                    xAxes:[{
                        display: false
                    }]
                }
            }
        });

        var ctx= document.getElementById("myChart5").getContext("2d");
        var myChart= new Chart(ctx,{
            type:'pie',
            data: {
                labels: ['Hombres','Mujeres'],
                datasets: [{
                        label: 'Votos',
                        data: [1,0], 
                        backgroundColor: [
                            'rgba(0, 0, 0, 0.2)'
                        ],
                        borderColor: [
                            'rgba(0, 0, 0, 1)'
                        ],
                        borderWidth: 1
                        }]
                },
            options:{
                responsive: true,
                title :{
                    display: true,
                    text: "Candidato 6"
                },
                legend :{
                    display: false
                },
                scales:{
                    yAxes:[{
                        ticks:{
                            beginAtZero:true
                        },
                        display: false,
                        stacked: false
                    }],
                    xAxes:[{
                        display: false
                    }]
                }
            }
        });

        var ctx= document.getElementById("myChart6").getContext("2d");
        var myChart= new Chart(ctx,{
            type:'pie',
            data: {
                labels: ['Hombres','Mujeres'],
                datasets: [{
                        label: 'Votos',
                        data: [2,7], 
                        backgroundColor: [
                            'rgba(47, 30, 232, 0.2)',
                            'rgba(250, 15, 125, 0.2)'
                        ],
                        borderColor: [
                            'rgba(47, 30, 232, 1)',
                            'rgba(250, 15, 125, 1)'
                        ],
                        borderWidth: 1
                        }]
                },
            options:{
                responsive: true,
                title :{
                    display: true,
                    text: "Candidato 7"
                },
                legend :{
                    display: false
                },
                scales:{
                    yAxes:[{
                        ticks:{
                            beginAtZero:true
                        },
                        display: false,
                        stacked: false
                    }],
                    xAxes:[{
                        display: false
                    }]
                }
            }
        });

        var ctx= document.getElementById("myChart7").getContext("2d");
        var myChart= new Chart(ctx,{
            type:'pie',
            data: {
                labels: ['Hombres','Mujeres'],
                datasets: [{
                        label: 'Votos',
                        data: [2,1], 
                        backgroundColor: [
                            'rgba(191, 250, 15, 0.2)',
                            'rgba(255, 42, 0, 0.2)'
                        ],
                        borderColor: [
                            'rgba(191, 250, 15, 1)',
                            'rgba(255, 42, 0, 1)'
                        ],
                        borderWidth: 1
                        }]
                },
            options:{
                responsive: true,
                title :{
                    display: true,
                    text: "Candidato 8"
                },
                legend :{
                    display: false
                },
                scales:{
                    yAxes:[{
                        ticks:{
                            beginAtZero:true
                        },
                        display: false,
                        stacked: false
                    }],
                    xAxes:[{
                        display: false
                    }]
                }
            }
        });

        var ctx= document.getElementById("myChart8").getContext("2d");
        var myChart= new Chart(ctx,{
            type:'pie',
            data: {
                labels: ['Hombres','Mujeres'],
                datasets: [{
                        label: 'Votos',
                        data: [10,1], 
                        backgroundColor: [
                            'rgba(44, 113, 201, 0.2)',
                            'rgba(94, 255, 0, 0.2)'
                        ],
                        borderColor: [
                            'rgba(44, 113, 201, 1)',
                            'rgba(94, 255, 0, 1)'
                        ],
                        borderWidth: 1
                        }]
                },
            options:{
                responsive: true,
                title :{
                    display: true,
                    text: "Candidato 9"
                },
                legend :{
                    display: false
                },
                scales:{
                    yAxes:[{
                        ticks:{
                            beginAtZero:true
                        },
                        display: false,
                        stacked: false
                    }],
                    xAxes:[{
                        display: false
                    }]
                }
            }
        });

        var ctx= document.getElementById("myChart9").getContext("2d");
        var myChart= new Chart(ctx,{
            type:'pie',
            data: {
                labels: ['Hombres','Mujeres'],
                datasets: [{
                        label: 'Votos',
                        data: [6,8], 
                        backgroundColor: [
                            'rgba(186, 134, 235, 0.2)',
                            'rgba(227, 247, 146, 0.2)'
                        ],
                        borderColor: [
                            'rgba(186, 134, 235, 1)',
                            'rgba(227, 247, 146, 1)'
                        ],
                        borderWidth: 1
                        }]
                },
            options:{
                responsive: true,
                title :{
                    display: true,
                    text: "Candidato 10"
                },
                legend :{
                    display: false
                },
                scales:{
                    yAxes:[{
                        ticks:{
                            beginAtZero:true
                        },
                        display: false,
                        stacked: false
                    }],
                    xAxes:[{
                        display: false
                    }]
                }
            }
        });

        var ctx= document.getElementById("myChart11").getContext("2d");
        var myChart= new Chart(ctx,{
            type:'pie',
            data: {
                labels: ['Votos Primero','Votos Segundo','Votos Tercero','Votos Cuarto'],
                datasets: [{
                        label: 'Votos',
                        data: [4,4,2,3], 
                        backgroundColor: [
                            'rgba(54, 162, 235, 0.2)',
                            'rgba(255, 99, 132, 0.2)',
                            'rgba(255, 206, 86, 0.2)',
                            'rgba(153, 102, 255, 0.2)'
                        ],
                        borderColor: [
                            'rgba(54, 162, 235, 1)',
                            'rgba(255, 99, 132, 1)',
                            'rgba(255, 206, 86, 1)',
                            'rgba(153, 102, 255, 1)'
                        ],
                        borderWidth: 1
                        }]
                },
            options:{
                responsive: true,
                title :{
                    display: true,
                    text: "Candidato 3"
                },
                legend :{
                    display: false
                },
                scales:{
                    yAxes:[{
                        ticks:{
                            beginAtZero:true
                        },
                        display: false,
                        stacked: false
                    }],
                    xAxes:[{
                        display: false
                    }]
                }
            }
        });

        var ctx= document.getElementById("myChart12").getContext("2d");
        var myChart= new Chart(ctx,{
            type:'pie',
            data: {
                labels: ['Votos Primero','Votos Segundo','Votos Tercero','Votos Cuarto'],
                datasets: [{
                        label: 'Votos',
                        data: [3,1,1], 
                        backgroundColor: [
                            'rgba(32, 247, 176, 0.2)',
                            'rgba(237, 124, 19, 0.2)',
                            'rgba(0, 0, 0, 0.2)'
                            
                        ],
                        borderColor: [
                            'rgba(32, 247, 176, 1)',
                            'rgba(237, 124, 19, 1)',
                            'rgba(0, 0, 0, 1)'
                        ],
                        borderWidth: 1
                        }]
                },
            options:{
                responsive: true,
                title :{
                    display: true,
                    text: "Candidato 4"
                },
                legend :{
                    display: false
                },
                scales:{
                    yAxes:[{
                        ticks:{
                            beginAtZero:true
                        },
                        display: false,
                        stacked: false
                    }],
                    xAxes:[{
                        display: false
                    }]
                }
            }
        });

        var ctx= document.getElementById("myChart13").getContext("2d");
        var myChart= new Chart(ctx,{
            type:'pie',
            data: {
                labels: ['Votos Primero','Votos Segundo','Votos Tercero','Votos Cuarto'],
                datasets: [{
                        label: 'Votos',
                        data: [2,2,9,5], 
                        backgroundColor: [
                            'rgba(47, 30, 232, 0.2)',
                            'rgba(230, 15, 125, 0.2)',
                            'rgba(191, 250, 15, 0.2)',
                            'rgba(255, 42, 0, 0.2)'
                        ],
                        borderColor: [
                            'rgba(47, 30, 232, 1)',
                            'rgba(230, 15, 125, 1)',
                            'rgba(191, 250, 15, 1)',
                            'rgba(255, 42, 0, 1)'
                        ],
                        borderWidth: 1
                        }]
                },
            options:{
                responsive: true,
                title :{
                    display: true,
                    text: "Candidato 5"
                },
                legend :{
                    display: false
                },
                scales:{
                    yAxes:[{
                        ticks:{
                            beginAtZero:true
                        },
                        display: false,
                        stacked: false
                    }],
                    xAxes:[{
                        display: false
                    }]
                }
            }
        });

        var ctx= document.getElementById("myChart14").getContext("2d");
        var myChart= new Chart(ctx,{
            type:'pie',
            data: {
                labels: ['Votos Primero','Votos Segundo','Votos Tercero','Votos Cuarto'],
                datasets: [{
                        label: 'Votos',
                        data: [0,1,0,0], 
                        backgroundColor: [
                            'rgba(44, 113, 201, 0.2)',
                            'rgba(94, 255, 0, 0.2)',
                            'rgba(186, 134, 235, 0.2)',
                            'rgba(227, 247, 146, 0.2)'
                        ],
                        borderColor: [
                            'rgba(44, 113, 201, 1)',
                            'rgba(94, 255, 0, 1)',
                            'rgba(186, 134, 235, 1)',
                            'rgba(227, 247, 146, 1)'
                        ],
                        borderWidth: 1
                        }]
                },
            options:{
                responsive: true,
                title :{
                    display: true,
                    text: "Candidato 6"
                },
                legend :{
                    display: false
                },
                scales:{
                    yAxes:[{
                        ticks:{
                            beginAtZero:true
                        },
                        display: false,
                        stacked: false
                    }],
                    xAxes:[{
                        display: false
                    }]
                }
            }
        });

        var ctx= document.getElementById("myChart15").getContext("2d");
        var myChart= new Chart(ctx,{
            type:'pie',
            data: {
                labels: ['Votos Primero','Votos Segundo','Votos Tercero','Votos Cuarto'],
                datasets: [{
                        label: 'Votos',
                        data: [0,3,3,3], 
                        backgroundColor: [
                            'rgba(54, 162, 235, 0.2)',
                            'rgba(255, 99, 132, 0.2)',
                            'rgba(255, 206, 86, 0.2)',
                            'rgba(153, 102, 255, 0.2)'
                        ],
                        borderColor: [
                            'rgba(54, 162, 235, 1)',
                            'rgba(255, 99, 132, 1)',
                            'rgba(255, 206, 86, 1)',
                            'rgba(153, 102, 255, 1)'
                        ],
                        borderWidth: 1
                        }]
                },
            options:{
                responsive: true,
                title :{
                    display: true,
                    text: "Candidato 7"
                },
                legend :{
                    display: false
                },
                scales:{
                    yAxes:[{
                        ticks:{
                            beginAtZero:true
                        },
                        display: false,
                        stacked: false
                    }],
                    xAxes:[{
                        display: false
                    }]
                }
            }
        });

        var ctx= document.getElementById("myChart16").getContext("2d");
        var myChart= new Chart(ctx,{
            type:'pie',
            data: {
                labels: ['Votos Primero','Votos Segundo','Votos Tercero','Votos Cuarto'],
                datasets: [{
                        label: 'Votos',
                        data: [1,0,1,1], 
                        backgroundColor: [
                            'rgba(32, 247, 176, 0.2)',
                            'rgba(237, 124, 19, 0.2)',
                            'rgba(0, 0, 0, 0.2)',
                            'rgba(54, 162, 235, 0.2)'
                        ],
                        borderColor: [
                            'rgba(32, 247, 176, 1)',
                            'rgba(237, 124, 19, 1)',
                            'rgba(0, 0, 0, 1)',
                            'rgba(54, 162, 235, 1)'
                        ],
                        borderWidth: 1
                        }]
                },
            options:{
                responsive: true,
                title :{
                    display: true,
                    text: "Candidato 8"
                },
                legend :{
                    display: false
                },
                scales:{
                    yAxes:[{
                        ticks:{
                            beginAtZero:true
                        },
                        display: false,
                        stacked: false
                    }],
                    xAxes:[{
                        display: false
                    }]
                }
            }
        });

        var ctx= document.getElementById("myChart17").getContext("2d");
        var myChart= new Chart(ctx,{
            type:'pie',
            data: {
                labels: ['Votos Primero','Votos Segundo','Votos Tercero','Votos Cuarto'],
                datasets: [{
                        label: 'Votos',
                        data: [4,1,2,4], 
                        backgroundColor: [
                            'rgba(47, 30, 232, 0.2)',
                            'rgba(230, 15, 125, 0.2)',
                            'rgba(191, 250, 15, 0.2)',
                            'rgba(255, 42, 0, 0.2)'
                        ],
                        borderColor: [
                            'rgba(47, 30, 232, 1)',
                            'rgba(230, 15, 125, 1)',
                            'rgba(191, 250, 15, 1)',
                            'rgba(255, 42, 0, 1)'
                        ],
                        borderWidth: 1
                        }]
                },
            options:{
                responsive: true,
                title :{
                    display: true,
                    text: "Candidato 9"
                },
                legend :{
                    display: false
                },
                scales:{
                    yAxes:[{
                        ticks:{
                            beginAtZero:true
                        },
                        display: false,
                        stacked: false
                    }],
                    xAxes:[{
                        display: false
                    }]
                }
            }
        });

        var ctx= document.getElementById("myChart18").getContext("2d");
        var myChart= new Chart(ctx,{
            type:'pie',
            data: {
                labels: ['Votos Primero','Votos Segundo','Votos Tercero','Votos Cuarto'],
                datasets: [{
                        label: 'Votos',
                        data: [1,3,7,2], 
                        backgroundColor: [
                            'rgba(44, 113, 201, 0.2)',
                            'rgba(94, 255, 0, 0.2)',
                            'rgba(186, 134, 235, 0.2)',
                            'rgba(227, 247, 146, 0.2)'
                        ],
                        borderColor: [
                            'rgba(44, 90, 201, 1)',
                            'rgba(94, 255, 0, 1)',
                            'rgba(186, 134, 235, 1)',
                            'rgba(227, 247, 146, 1)'
                        ],
                        borderWidth: 1
                        }]
                },
            options:{
                responsive: true,
                title :{
                    display: true,
                    text: "Candidato 10"
                },
                legend :{
                    display: false
                },
                scales:{
                    yAxes:[{
                        ticks:{
                            beginAtZero:true
                        },
                        display: false,
                        stacked: false
                    }],
                    xAxes:[{
                        display: false
                    }]
                }
            }
        });

        var ctx= document.getElementById("myChartPrim2").getContext("2d");
        var myChart= new Chart(ctx,{
            type:'pie',
            data: {
                labels: ['Hombres','Mujeres'],
                datasets: [{
                        label: 'Votos',
                        data: [7,7], 
                        backgroundColor: [
                            'rgba(54, 162, 235, 0.2)',
                            'rgba(255, 99, 132, 0.2)'
                        ],
                        borderColor: [
                            'rgba(54, 162, 235, 1)',
                            'rgba(255, 99, 132, 1)'
                        ],
                        borderWidth: 1
                        }]
                },
            options:{
                responsive: true,
                title :{
                    display: true,
                    text: "Candidato 1"
                },
                legend :{
                    display: false
                },
                scales:{
                    yAxes:[{
                        ticks:{
                            beginAtZero:true
                        },
                        display: false,
                        stacked: false
                    }],
                    xAxes:[{
                        display: false
                    }]
                }
            }
        });


        var ctx= document.getElementById("myChartPrim3").getContext("2d");
        var myChart= new Chart(ctx,{
            type:'pie',
            data: {
                labels: ['Hombres','Mujeres'],
                datasets: [{
                        label: 'Votos',
                        data: [4,9], 
                        backgroundColor: [
                            'rgba(54, 162, 235, 0.2)',
                            'rgba(255, 99, 132, 0.2)'
                        ],
                        borderColor: [
                            'rgba(54, 162, 235, 1)',
                            'rgba(255, 99, 132, 1)'
                        ],
                        borderWidth: 1
                        }]
                },
            options:{
                responsive: true,
                title :{
                    display: true,
                    text: "Candidato 2"
                },
                legend :{
                    display: false
                },
                scales:{
                    yAxes:[{
                        ticks:{
                            beginAtZero:true
                        },
                        display: false,
                        stacked: false
                    }],
                    xAxes:[{
                        display: false
                    }]
                }
            }
        });

        var ctx= document.getElementById("myChartPrim4").getContext("2d");
        var myChart= new Chart(ctx,{
            type:'pie',
            data: {
                labels: ['Hombres','Mujeres'],
                datasets: [{
                        label: 'Votos',
                        data: [10,1], 
                        backgroundColor: [
                            'rgba(54, 162, 235, 0.2)',
                            'rgba(255, 99, 132, 0.2)'
                        ],
                        borderColor: [
                            'rgba(54, 162, 235, 1)',
                            'rgba(255, 99, 132, 1)'
                        ],
                        borderWidth: 1
                        }]
                },
            options:{
                responsive: true,
                title :{
                    display: true,
                    text: "Candidato 3"
                },
                legend :{
                    display: false
                },
                scales:{
                    yAxes:[{
                        ticks:{
                            beginAtZero:true
                        },
                        display: false,
                        stacked: false
                    }],
                    xAxes:[{
                        display: false
                    }]
                }
            }
        });

        var ctx= document.getElementById("myChartPrim5").getContext("2d");
        var myChart= new Chart(ctx,{
            type:'pie',
            data: {
                labels: ['Hombres','Mujeres'],
                datasets: [{
                        label: 'Votos',
                        data: [4,5], 
                        backgroundColor: [
                            'rgba(54, 162, 235, 0.2)',
                            'rgba(255, 99, 132, 0.2)'
                        ],
                        borderColor: [
                            'rgba(54, 162, 235, 1)',
                            'rgba(255, 99, 132, 1)'
                        ],
                        borderWidth: 1
                        }]
                },
            options:{
                responsive: true,
                title :{
                    display: true,
                    text: "Candidato 4"
                },
                legend :{
                    display: false
                },
                scales:{
                    yAxes:[{
                        ticks:{
                            beginAtZero:true
                        },
                        display: false,
                        stacked: false
                    }],
                    xAxes:[{
                        display: false
                    }]
                }
            }
        });

        var ctx= document.getElementById("myChartPrim7").getContext("2d");
        var myChart= new Chart(ctx,{
            type:'pie',
            data: {
                labels: ['Votos Primero','Votos Segundo','Votos Tercero','Votos Cuarto'],
                datasets: [{
                        label: 'Votos',
                        data: [1,1,2,3], 
                        backgroundColor: [
                            'rgba(47, 30, 232, 0.2)',
                            'rgba(230, 15, 125, 0.2)',
                            'rgba(191, 250, 15, 0.2)',
                            'rgba(255, 42, 0, 0.2)'
                        ],
                        borderColor: [
                            'rgba(47, 30, 232, 1)',
                            'rgba(230, 15, 125, 1)',
                            'rgba(191, 250, 15, 1)',
                            'rgba(255, 42, 0, 1)'
                        ],
                        borderWidth: 1
                        }]
                },
            options:{
                responsive: true,
                title :{
                    display: true,
                    text: "Candidato 1"
                },
                legend :{
                    display: false
                },
                scales:{
                    yAxes:[{
                        ticks:{
                            beginAtZero:true
                        },
                        display: false,
                        stacked: false
                    }],
                    xAxes:[{
                        display: false
                    }]
                }
            }
        });

        var ctx= document.getElementById("myChartPrim8").getContext("2d");
        var myChart= new Chart(ctx,{
            type:'pie',
            data: {
                labels: ['Votos Primero','Votos Segundo','Votos Tercero','Votos Cuarto'],
                datasets: [{
                        label: 'Votos',
                        data: [2,1,2,3], 
                        backgroundColor: [
                            'rgba(47, 30, 232, 0.2)',
                            'rgba(230, 15, 125, 0.2)',
                            'rgba(191, 250, 15, 0.2)',
                            'rgba(255, 42, 0, 0.2)'
                        ],
                        borderColor: [
                            'rgba(47, 30, 232, 1)',
                            'rgba(230, 15, 125, 1)',
                            'rgba(191, 250, 15, 1)',
                            'rgba(255, 42, 0, 1)'
                        ],
                        borderWidth: 1
                        }]
                },
            options:{
                responsive: true,
                title :{
                    display: true,
                    text: "Candidato 2"
                },
                legend :{
                    display: false
                },
                scales:{
                    yAxes:[{
                        ticks:{
                            beginAtZero:true
                        },
                        display: false,
                        stacked: false
                    }],
                    xAxes:[{
                        display: false
                    }]
                }
            }
        });

        var ctx= document.getElementById("myChartPrim9").getContext("2d");
        var myChart= new Chart(ctx,{
            type:'pie',
            data: {
                labels: ['Votos Primero','Votos Segundo','Votos Tercero','Votos Cuarto'],
                datasets: [{
                        label: 'Votos',
                        data: [1,1,2,1], 
                        backgroundColor: [
                            'rgba(47, 30, 232, 0.2)',
                            'rgba(230, 15, 125, 0.2)',
                            'rgba(191, 250, 15, 0.2)',
                            'rgba(255, 42, 0, 0.2)'
                        ],
                        borderColor: [
                            'rgba(47, 30, 232, 1)',
                            'rgba(230, 15, 125, 1)',
                            'rgba(191, 250, 15, 1)',
                            'rgba(255, 42, 0, 1)'
                        ],
                        borderWidth: 1
                        }]
                },
            options:{
                responsive: true,
                title :{
                    display: true,
                    text: "Candidato 3"
                },
                legend :{
                    display: false
                },
                scales:{
                    yAxes:[{
                        ticks:{
                            beginAtZero:true
                        },
                        display: false,
                        stacked: false
                    }],
                    xAxes:[{
                        display: false
                    }]
                }
            }
        });
        var ctx= document.getElementById("myChartPrim10").getContext("2d");
        var myChart= new Chart(ctx,{
            type:'pie',
            data: {
                labels: ['Votos Primero','Votos Segundo','Votos Tercero','Votos Cuarto'],
                datasets: [{
                        label: 'Votos',
                        data: [3,3,2,3], 
                        backgroundColor: [
                            'rgba(47, 30, 232, 0.2)',
                            'rgba(230, 15, 125, 0.2)',
                            'rgba(191, 250, 15, 0.2)',
                            'rgba(255, 42, 0, 0.2)'
                        ],
                        borderColor: [
                            'rgba(47, 30, 232, 1)',
                            'rgba(230, 15, 125, 1)',
                            'rgba(191, 250, 15, 1)',
                            'rgba(255, 42, 0, 1)'
                        ],
                        borderWidth: 1
                        }]
                },
            options:{
                responsive: true,
                title :{
                    display: true,
                    text: "Candidato 4"
                },
                legend :{
                    display: false
                },
                scales:{
                    yAxes:[{
                        ticks:{
                            beginAtZero:true
                        },
                        display: false,
                        stacked: false
                    }],
                    xAxes:[{
                        display: false
                    }]
                }
            }
        });
        
    </script>
</body>
{% endblock %}


